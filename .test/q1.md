
# MiniRT Project Collaboration Plan

## Overview

The project is divided in two main componenets that can be developed in parallel by two students:
- Student A: Parser, Scene Management, Window/Display
- Student B: Ray Tracing Engine, Math Library, Lighting

- Repo Structure:

```css
miniRT/
├── src/
│   ├── parser/       # Student A
│   ├── render/       # Student B
│   ├── math/         # shared
│   ├── main.c
│   └── ...
├── include/
│   ├── minirt.h
│   ├── parser.h
│   ├── render.h
│   └── ...
├── libft/
├── mlx/
├── scenes/
│   ├── simple.rt
│   ├── invalid.rt
│   └── ...
├── Makefile
```

- `make all` build `miniRT`
- `make parser` build only parser part
- `make render` build only render part


## Shared Initial Setup (Both Students Together - Day 1)

```c

// structures.h 
typedef struct s_vec3
{
    double x;
    double y;
    double z;
}               t_vec3;

typedef struct s_rgb
{
    int r;
    int g;
    int b;
}               t_rgb;

typedef struct s_ray
{
    t_vec3 origin;
    t_vec3 direction;
}               t_ray;

typedef struct s_camera
{
    t_vec3 position;
    t_vec3 orientation;
    couble fov;
}               t_camera;

typedef struct s_light
{
    t_vec3 position;
    double brightness;
    t_rgb color;         // for bonus later
}               t_light;

typedef struct s_sphere
{
    t_vec3 center;
    double diameter;
    t_rgb color;
}               t_sphere;

typedef struct s_plane
{
    t_vec3 point;
    t_vec3 normal;
    t_rgb color;
}               t_plane;

typedef struct s_cylinder
{
    t_vec3 center;
    t_vec3 axis;
    double diameter;
    double height;
    t_rgb color;
}               t_cylinder;

typedef struct s_scene
{
    t_camera camera;
    t_light *lights;
    int light_count;
    t_rgb ambient_light;
    double ambient_ratio;
    void **objects; // array of object pointers
    int object_types; // array of object type identifiers
    int object_count;
}               t_scene;
```

## Student A: Parser & Display System

1. Scene File Parser (parser.c, parser_utils.c)
2. Window Management (window.c)
3. Main Program Loop (main.c)
4. Error Handling (errors.c)

### Task A1: Basic File Reading

```c
// parser.c
t_scnene *parse_scene(char *filename);
int validate_extension(char *filename);
char **read_file_lines(char *fd);
```

### Task A2: Element Parsers

```c
// parser_elements.c
int parse_ambient(char *line, t_scene *scene);
int parse_camera(char *line, t_scene *scene);
int parse_light(char *line, t_scene *scene);
int parse_sphere(char *line, t_scene *scene);
int parse_plane(char *line, t_scene *scene);
int parse_cylinder(char *line, t_scene *scene);
```

### Task A3: Validation Functions

```c
// parser_validation.c
int validate_rgb(char *str, t_rgb *color);
int validate_coordinates(char *str, t_vec3 *vec);
int validate_normalized_vector(char *str, t_vec3 *vec);
int validate_ratio(char *str, double *ratio);
int validate_fov(char *str, double *fov);
```

### Task A4: MinilibX Setup

```c
// window.c
void *init_mlx(t_mlx *mlx, int width, int height);
void create_image(t_mlx *mlx);
void put_pixel(t_mlx *mlx, int x, int y, int color);
int handle_keypress(int keycode, t_mlx *mlx);
int handle_close(t_mlx *mlx);
```

### Task A5: Main Program Loop

```c
// main.c
int main(int argc, char **argv);
void render_scene(t_mlx *mlx, t_scene *scene);
void cleanup(t_mlx *mlx, t_scene *scene);
```
